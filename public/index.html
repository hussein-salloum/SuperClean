<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SuperClean â€“ Menu</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/public/style.css">
</head>
<body>
  <header>
    <img src="/public/logo.jpg" alt="Company Logo">
    <h1>SuperClean</h1>
  </header>

  <div class="container">
    <div class="filter-buttons">
      <button class="active" onclick="filterItems('all', this)">All</button>
      <button onclick="filterItems('3.7L', this)">3.7 L</button>
      <button onclick="filterItems('1L', this)">1 L</button>
    </div>

    <div class="product-grid" id="productGrid"></div>
  </div>

  <footer>
    Designed with ðŸ’§ by <strong>SuperClean</strong>
  </footer>

  <script>
    let items = [];

    function fetchItems() {
      fetch('/api/items')
        .then(res => res.json())
        .then(data => {
          items = data;
          renderItems('all');
        });
    }

    function renderItems(category) {
      const grid = document.getElementById('productGrid');
      grid.innerHTML = '';
      items.forEach(it => {
        if (category === 'all' || it.category === category) {
          const card = document.createElement('div');
          card.className = 'product-card';
          card.innerHTML = `
            <img src="${it.image}" alt="${it.name}">
            <div class="product-name">${it.name}</div>
            <div class="product-price">${it.price} $</div>
          `;
          grid.appendChild(card);
        }
      });
    }

    function filterItems(cat, btn) {
      document.querySelectorAll('.filter-buttons button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      renderItems(cat);
    }

    fetchItems();
  </script>
</body>
</html>
